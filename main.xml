<?xml version="1.0" ?>
<project name="Cloth Simulation Project" width="1920" height="1080">

    <assets>
        <attributes>
            <attribute type="COLOR" name="width" data="INT" value="25"/>
            <attribute type="COLOR" name="height" data="INT" value="25"/>
            <attribute type="COLOR" name="stiffness" data="FLOAT" value="100.0"/>
            <attribute type="COLOR" name="stiffness2" data="FLOAT" value="0.0"/>
            <attribute type="COLOR" name="damping_coeff" data="FLOAT" value="10.0"/>
            <attribute type="COLOR" name="M" data="FLOAT" value="0.5"/>
            <attribute type="COLOR" name="time_interval" data="FLOAT" value="0.0"/>
            <attribute type="RENDERER" name="wind_x" data="FLOAT" value="0.0"/>
            <attribute type="RENDERER" name="wind_y" data="FLOAT" value="0.0"/>
            <attribute type="RENDERER" name="wind_z" data="FLOAT" value="0.0"/>
            <attribute type="RENDERER" name="marbel_radius" data="FLOAT" value="0.0"/>
            <attribute type="RENDERER" name="wind_scale" data="FLOAT" value="0.0"/>
            <attribute type="RENDERER" name="sphere_x" data="FLOAT" value="0.0"/>
            <attribute type="RENDERER" name="sphere_y" data="FLOAT" value="0.0"/>
            <attribute type="RENDERER" name="sphere_z" data="FLOAT" value="0.0"/>
            <attribute type="RENDERER" name="sphere_radius" data="FLOAT" value="0.0"/>
        </attributes>
        <scenes>
            <scene name="Sphere" param="UNITIZE">
                <file name="objects/sphere.obj" />
                <TRANSLATE x="2" y="0" z="2" />
            </scene>
            
            <scene name="SkyBox">
                <geometry name="skyBox" material="skybox" type="BOX">
                    <SCALE x="10" y="10" z="10" />
                </geometry>
            </scene>
            <scene name="Cloth" params="SWAP_XY">
                <file name="objects/cloth.obj"/>
                <TRANSLATE x="0" y="2" z="0" />
            </scene>
        </scenes>

        <viewports>
            <viewport name="MainViewport">
                <CLEAR_COLOR r="0.0" g="0.0" b="0.0" />
            </viewport>
        </viewports>

		<cameras>
			<camera name="MainCamera" >
				<viewport name="MainViewport" />
				<POSITION x="6" y="6" z="11" />
				<VIEW x="-0.2" y="-0.6" z="-0.7" />
                <NEAR value="0.1" />
                <FAR value="100000.0" />
			</camera>
		</cameras>
		
		<lights>
			<light name="Sun">
				<DIRECTION x="0" y="-2" z="-3" />
			</light>
		</lights>      

        <materialLibs>
            <materialLib filename="materials.mlib" />
        </materialLibs>
    </assets>

    <pipelines>
        <pipeline name="cloth">
            <pass class="compute" name="cloth_comp">
                <material name="cloth_comp" fromLibrary="ClothMaterials" dimX="125" dimY="1" dimZ="1"/>
            </pass>
                  <pass name="cloth" class="default">
                    <scenes>
                      <scene name="Cloth"/>
                    </scenes>
                    <camera name="MainCamera"/>
                    <lights>
                      <light name="Sun"/>
                    </lights>
                    <materialMaps>
                      <map fromMaterial="*" toMaterial="cloth" toLibrary="ClothMaterials"/>
                    </materialMaps>
                </pass>
            <pass class="default" name="PassoGrid">
                <COLOR_CLEAR value="false" />
                <DEPTH_CLEAR value="false" />
                <scenes>
                    <scene name="Sphere"/>
                </scenes>
                <camera name="MainCamera" /> 
                <lights>
                    <light name="Sun" />
                </lights>
                <materialMaps>
                    <map fromMaterial="*" toMaterial="MatEarth" toLibrary="ClothMaterials"/>
                </materialMaps>
            </pass>

            <pass class="default" name="PassoSkyBox">
                <COLOR_CLEAR value="false" />
                <DEPTH_CLEAR value="false" />
                <scenes>
                    <scene name="SkyBox"/>
                </scenes>
                <camera name="MainCamera" /> 
                <materialMaps>
                    <map fromMaterial="skybox" toMaterial="skybox" toLibrary="ClothMaterials"/>
                </materialMaps>
            </pass>
        </pipeline>
    </pipelines>

</project>