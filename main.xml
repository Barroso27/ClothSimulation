<?xml version="1.0" ?>
<project name="Cloth Simulation Project" width="1920" height="1080">

    <assets>
        <attributes>
            <attribute type="COLOR" name="width" data="INT" value="25"/>
            <attribute type="COLOR" name="height" data="INT" value="25"/>
            <attribute type="RENDERER" name="stiffness" data="FLOAT" value="800.0"/>
            <attribute type="RENDERER" name="stiffness2" data="FLOAT" value="400.0"/>
            <attribute type="RENDERER" name="damping_coeff" data="FLOAT" value="8.0"/>
            <attribute type="RENDERER" name="M" data="FLOAT" value="0.1"/>
            <attribute type="COLOR" name="time_interval" data="FLOAT" value="0.001"/>
            <attribute type="RENDERER" name="collision_radius" data="FLOAT" value="0.15"/>
        </attributes>
        <scenes>
            <scene name="Sphere" param="UNITIZE">
                <file name="objects/sphere.obj" />
                <SCALE x="2.5" y="2.5" z="2.5" />
                <TRANSLATE x="5.0" y="-5.0" z="0.0" />
            </scene>
            
            <scene name="Cloth">
                <file name="objects/cloth.obj"/>
                
            </scene>
        </scenes>

        <viewports>
            <viewport name="MainViewport">
                <CLEAR_COLOR r="0.1" g="0.1" b="0.2" />
            </viewport>
        </viewports>

		<cameras>
			<camera name="MainCamera" >
				<viewport name="MainViewport" />
				<POSITION x="20" y="1" z="-4" />
				<VIEW x="-1" y="-0.4" z="0.25" />
                <NEAR value="0.1" />
                <FAR value="100000.0" />
			</camera>
		</cameras>
		
		<lights>
			<light name="Sun">
				<DIRECTION x="5" y="2" z="11" />
			</light>
		</lights>      

        <materialLibs>
            <materialLib filename="materials.mlib" />
        </materialLibs>
    </assets>

    <pipelines>
        <pipeline name="cloth">
            <pass class="compute" name="cloth_comp">
                <material name="cloth_comp" fromLibrary="ClothMaterials" dimX="125" dimY="1" dimZ="1"/>
            </pass>
                  <pass name="cloth" class="default">
                    <scenes>
                      <scene name="Cloth"/>
                    </scenes>
                    <camera name="MainCamera"/>
                    <lights>
                      <light name="Sun"/>
                    </lights>
                    <materialMaps>
                      <map fromMaterial="*" toMaterial="cloth" toLibrary="ClothMaterials"/>
                    </materialMaps>
                </pass>
            <pass class="default" name="PassoSphere">
                <COLOR_CLEAR value="false" />
                <DEPTH_CLEAR value="false" />
                <scenes>
                    <scene name="Sphere"/>
                </scenes>
                <camera name="MainCamera" /> 
                <lights>
                    <light name="Sun" />
                </lights>
                <materialMaps>
                    <map fromMaterial="*" toMaterial="MatEarth" toLibrary="ClothMaterials"/>
                </materialMaps>
            </pass>
        </pipeline>
    </pipelines>

    <interface>
        <window label="Esfera">
            <var label="Posição X" type="SCENE" context="Sphere" component="TRANSLATE" id="0" def="min=-10 max=20 step=0.1"/>
            <var label="Posição Y" type="SCENE" context="Sphere" component="TRANSLATE" id="1" def="min=-15 max=5 step=0.1"/>
            <var label="Posição Z" type="SCENE" context="Sphere" component="TRANSLATE" id="2" def="min=-15 max=15 step=0.1"/>
        </window>

        <window label="Física">
            <var label="Rigidez (stiffness)" type="RENDERER" context="CURRENT" component="stiffness" def="min=100 max=2000 step=10"/>
            <var label="Rigidez Bending" type="RENDERER" context="CURRENT" component="stiffness2" def="min=50 max=1000 step=10"/>
            <var label="Massa" type="RENDERER" context="CURRENT" component="M" def="min=0.3 max=0.9 step=0.01"/>
            <var label="Amortecimento (damping)" type="RENDERER" context="CURRENT" component="damping_coeff" def="min=0.5 max=20.0 step=0.5"/>
        </window>

    </interface>

</project>